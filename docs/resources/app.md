---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "dokku_app Resource - terraform-provider-dokku"
subcategory: ""
description: |-
  dokku app
  https://dokku.com/docs/deployment/application-management/
---

# dokku_app (Resource)

dokku app
  https://dokku.com/docs/deployment/application-management/

## Example Usage

```terraform
resource "dokku_app" "demo" {
  app_name = "demo"
}

resource "dokku_app" "demo2" {
  app_name = "demo2"

  # https://dokku.com/docs/configuration/environment-variables/
  config = {
    foo = "bar"
  }

  # https://dokku.com/docs/deployment/zero-downtime-deploys/
  checks = {
    status = "disabled"
  }

  # https://dokku.com/docs/advanced-usage/persistent-storage/
  storage = {
    uploads = {
      mount_path = "/app/uploads"
    }
    "/var/log" = {
      mount_path = "/var/log"
    }
    config = {
      mount_path = "/app/config"
      # copy local directory "./config" to host directory, that will be mounted as "/app/config"
      local_directory = "./config"
    }
  }

  # DEPRECATED use ports instead
  proxy_ports = {
    80 = {
      scheme         = "http"
      container_port = 5000
    }
  }

  # https://dokku.com/docs/networking/port-management/
  ports = {
    80 = {
      scheme         = "http"
      container_port = 5000
    }
  }

  # https://dokku.com/docs/configuration/domains/
  domains = ["example.com"]

  # https://dokku.com/docs/advanced-usage/docker-options/
  docker_options = {
    "--label demo" = {
      phase = ["deploy"]
    }
  }

  # https://dokku.com/docs/networking/network/
  networks = {
    attach_post_create = "internal"
  }

  # https://dokku.com/docs/deployment/methods/git/
  # https://dokku.com/docs/deployment/methods/image/
  # https://dokku.com/docs/deployment/methods/archive/
  deploy = {
    type         = "docker_image"
    login        = var.docker_image_registry_login
    password     = var.docker_image_registry_password
    docker_image = var.docker_image
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `app_name` (String) Name of application to manage

### Optional

- `checks` (Attributes) Checks setup for app (see [below for nested schema](#nestedatt--checks))
- `config` (Map of String) Config (env vars) for app
- `deploy` (Attributes) Deploy setup for app (see [below for nested schema](#nestedatt--deploy))
- `docker_options` (Attributes Map) Docker options for app. Keys are options (see [below for nested schema](#nestedatt--docker_options))
- `domains` (Set of String) Domains setup for app
- `networks` (Attributes) Network setup for app (see [below for nested schema](#nestedatt--networks))
- `ports` (Attributes Map) Ports setup for app. Keys are host ports (see [below for nested schema](#nestedatt--ports))
- `proxy_ports` (Attributes Map) DEPRECATED. Use "ports" instead.

Proxy ports setup for app. Keys are host ports. (see [below for nested schema](#nestedatt--proxy_ports))
- `storage` (Attributes Map) Persistent storage setup for app. Keys are storage names or absolute paths to host directories (see [below for nested schema](#nestedatt--storage))

<a id="nestedatt--checks"></a>
### Nested Schema for `checks`

Required:

- `status` (String) Checks status. Default: enabled


<a id="nestedatt--deploy"></a>
### Nested Schema for `deploy`

Required:

- `type` (String) Type of deploy to use. Allowed values: archive, docker_image, git_repository

Optional:

- `allow_rebuild` (Boolean) Allow to run ps:rebuild for app if same docker_image provided second time
- `archive_type` (String) Type of archive to deploy. Allowed values: tar, tar.gz, zip
- `archive_url` (String) URL of archive to delpoy from. Login and password will not be used
- `docker_image` (String) Docker image to deploy from. If login and password is provided then it will be used to sign in to docker registry.
- `git_repository` (String) Git repository to deploy from. If login and password is provided then it will be used to sign in to repository.
- `git_repository_ref` (String) Ref of git repository to deploy from
- `login` (String) Login to use for deployment
- `password` (String, Sensitive) Password to use for deployment


<a id="nestedatt--docker_options"></a>
### Nested Schema for `docker_options`

Required:

- `phase` (Set of String) Phase to apply docker-options to. Allowed values: build, deploy, run


<a id="nestedatt--networks"></a>
### Nested Schema for `networks`

Optional:

- `attach_post_create` (String) Name of network to use as attach-post-create
- `attach_post_deploy` (String) Name of network to use as attach-post-deploy
- `initial_network` (String) Name of network to use as initial-network


<a id="nestedatt--ports"></a>
### Nested Schema for `ports`

Required:

- `container_port` (String) Port inside container to proxy
- `scheme` (String) Scheme to use. Allowed values: http, https


<a id="nestedatt--proxy_ports"></a>
### Nested Schema for `proxy_ports`

Required:

- `container_port` (String) Port inside container to proxy
- `scheme` (String) Scheme to use. Allowed values: http, https


<a id="nestedatt--storage"></a>
### Nested Schema for `storage`

Required:

- `mount_path` (String) Path inside container to mount to

Optional:

- `local_directory` (String) Uploads local directory to host (always, without checking is it changed)
  
  Should not be used for uploading large files, because it is slow.
  Also see upload_* attributes in provider configuration.

## Import

Import is supported using the following syntax:

```shell
# dokku_app can be imported by specifying the app name
terraform import dokku_app.demo app_name
```
